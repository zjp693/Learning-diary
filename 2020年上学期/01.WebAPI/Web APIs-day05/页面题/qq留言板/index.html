<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>漠丶叹尘的空间</title>
	<link rel="icon" sizes="any" mask href="http://qzonestyle.gtimg.cn/qzone/v8/img/Qzone.svg">
	<link rel="stylesheet" type="text/css" href="css/index.css">
</head>

<body>
	<div class="header">
		This is the head nav
	</div>
	<div class="topInfo">
		<span class="edit">编辑</span>
		<div class="zoneName">
			<h2>漠丶叹尘 的空间</h2>
			<p>知我者，谓我心忧。不知我者，谓我何求。</p>
		</div>
		<div class="support">
			<img src="image/support_1.png" alt="赞">
			<span class="num">7</span>
		</div>
		<div class="tips">7人赞过</div>
		<!-- bottom nav -->
		<div class="top_bottom">
			<div class="photo">
				<img src="http://qlogo3.store.qq.com/qzone/1262283870/1262283870/100?1481718124">
			</div>
			<div class="uploadphoto">修改头像</div>
			<div class="container">
				<ul class="section">
					<li>主页</li>
					<li>日志</li>
					<li>相册</li>
					<li>留言板</li>
					<li>说说</li>
					<li>个人档</li>
					<li>音乐</li>
					<li>更多</li>
				</ul>
			</div>
		</div>
	</div>
	<!-- 下面实现留言板功能 -->
	<div class="mainframe">
		<div class="title">留言板</div>
		<div class="message">主人寄语</div>
		<div class="info">
			这是主人留下的寄语~
		</div>
		<div class="content" contenteditable="true"></div>
		<input type="button" name="submit" value="发表" class="subbtn">
		<div class="numofmessage">留言(0)</div>
		<!-- 下面是留言区 -->
		<div class="msgFrame">
			<div class="content_1">
				<img class="name" src="http://qlogo3.store.qq.com/qzone/1262283870/1262283870/100?1481718124"
					alt="photo">
				<div class="mainInfo">
					<div class="userId"><a href="#">zipple</a></div>
					<div class="conInfo">
						这是一条留言。
					</div>
					<div class="time">2016-12-19 23:46:11</div>
				</div>

			</div>
		</div>
	</div>
	<script>
		// 获取button
		let oBtn = document.getElementsByClassName("subbtn")[0]
		// 获取input
		let oInput = document.getElementsByClassName("content")[0]
		// 获取留言区
		let oMsgFrame = document.getElementsByClassName("msgFrame")[0]

		oBtn.onclick = function () {
			if (oInput.innerText.trim()) {
				// 拷贝一份 content_1
				let oContent = document.getElementsByClassName("content_1")[0].cloneNode("true")
				oContent.children[1].children[1].innerText = oInput.innerText;  // 将文本替换
				// 获取当前时间
				let date = new Date();
				// 补零函数
				function fill(num) {
					return num > 10 ? num : "0" + num;
				}
				// 生成时间字符串
				let dateStr = date.getFullYear() + "-" + fill(date.getMonth() + 1) + "-" + fill(date.getDate()) + " " + fill(date.getHours()) + ":" + fill(date.getMinutes()) + ":" + fill(date.getSeconds());
				// 将当前时间替换
				oContent.children[1].children[2].innerText = dateStr;
				// 将备份插入到留言区最后
				oMsgFrame.appendChild(oContent)
				// 清空输入框
				oInput.innerText = ""
			}
			else {
				// 没有内容，弹出以下提示
				alert("您还没有输入任何内容")
			}
		}
	</script>
</body>

</html>